# 5.1 프로 워크플로 소개

> 전문가들이 Claude Code를 사용하는 방식을 이해하고, 4단계 워크플로의 전체 흐름을 파악합니다.

> 🎯 **이 섹션에서 배울 Claude Code 기능**: Research → Plan → Annotate → Implement 워크플로 이해

> ⭐⭐ **난이도**: 보통

## 학습 목표

- Boris Tane 워크플로의 핵심 원칙을 이해합니다
- 4단계 흐름(Research → Planning → Annotation Cycle → Implementation)의 목적을 파악합니다
- Chapter 1~4에서 배운 기능이 각 단계에 어떻게 매핑되는지 이해합니다
- 왜 코드 작성을 마지막에 하는지 납득합니다

## Boris Tane 워크플로란?

[Boris Tane의 블로그 "How I Use Claude Code"](https://boristane.com/blog/how-i-use-claude-code/)에서 소개된 이 워크플로는, Claude Code를 단순한 코드 생성 도구가 아닌 **협업 파트너**로 활용하는 체계적인 방법론입니다.

### 핵심 원칙

> **"계획을 검토하고 승인하기 전까지 Claude가 코드를 작성하지 않게 한다"**

대부분의 사람들이 Claude Code에게 바로 "만들어줘"라고 요청합니다. 이 접근법은 간단한 기능에서는 잘 동작하지만, 복잡한 기능을 구현할 때는 다음과 같은 문제가 발생합니다:

- Claude가 코드베이스의 패턴을 무시하고 자체적인 구현을 만듦
- 구현 방향이 원하는 것과 다르면 전체를 되돌려야 함
- 여러 파일에 걸친 변경이 일관되지 않음
- 디버깅에 시간을 더 쓰게 됨

프로 워크플로는 이 문제를 **코드 작성 전에 충분한 준비**를 거치는 것으로 해결합니다.

> 💡 **비유**: 건축가가 설계도 없이 건물을 짓지 않는 것처럼, 복잡한 기능을 구현할 때도 먼저 리서치하고, 계획을 세우고, 검토한 뒤에 코드를 작성해야 합니다.

## 4단계 워크플로 흐름

```
┌─────────────────────────────────────────────────────────────────┐
│                                                                 │
│  1. Research          2. Planning         3. Annotation Cycle   │
│  ┌──────────┐        ┌──────────┐        ┌──────────┐          │
│  │코드베이스 │──────►│ plan.md  │──────►│ 메모 추가  │          │
│  │깊이 분석  │        │ 작성     │        │ & 반영    │          │
│  │          │        │          │        │          │          │
│  │research  │        │구현 계획  │        │ NOTE:    │          │
│  │.md 생성  │        │수립      │        │ CHANGE:  │◄─┐      │
│  └──────────┘        └──────────┘        │ REJECT:  │  │      │
│                                           └────┬─────┘  │      │
│                                                │        │      │
│                                                └────────┘      │
│                                            만족할 때까지 반복     │
│                                                                 │
│  4. Implementation                                              │
│  ┌──────────────────────────────────────┐                       │
│  │ 승인된 계획 기반으로 일괄 구현          │                       │
│  │ plan.md에 완료 표시하며 진행           │                       │
│  └──────────────────────────────────────┘                       │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

### 각 단계의 목적

#### 1단계: Research (리서치)

**목적**: Claude에게 코드베이스를 깊이 이해시키기

- 서브에이전트로 기존 코드 패턴, UI 컴포넌트, 데이터 흐름을 분석
- 결과를 **research.md 파일**로 작성 (구두 요약이 아닌 파일 기반)
- 개발자가 research.md를 검토하고 부정확한 부분 수정 요청

**왜 파일로 작성하는가?** → 검토 가능한 표면(reviewable surface)을 확보하기 위해. 구두 요약은 지나가면 사라지지만, 파일은 라인 단위로 검토하고 수정할 수 있습니다.

#### 2단계: Planning (계획)

**목적**: 상세한 구현 계획을 파일로 수립

- Plan 모드에서 구현 방향 토론
- **plan.md 파일**에 접근 방식, 파일 목록, 코드 스니펫, 트레이드오프 작성
- 기존 구현을 명시적으로 참조하여 일관성 확보

#### 3단계: Annotation Cycle (주석 사이클)

**목적**: 계획을 검토하고 인라인 메모로 수정 반복

- plan.md를 에디터에서 열고 검토
- `NOTE:`, `CHANGE:`, `REJECT:` 등의 인라인 메모를 추가
- Claude에게 메모를 반영하여 계획을 업데이트하도록 요청
- 만족할 때까지 1~3회 반복

**이것이 Boris Tane 워크플로의 가장 독특한 부분입니다.** 계획에 직접 주석을 달아 피드백하는 과정을 통해, 개발자의 의도가 정확히 반영된 계획이 만들어집니다.

#### 4단계: Implementation (구현)

**목적**: 승인된 계획을 기반으로 코드 작성

- "모두 구현해줘"라는 하나의 프롬프트로 일괄 구현
- Claude가 plan.md에 완료 표시를 하며 진행
- 결과를 테스트하고 간결한 피드백으로 수정
- 잘못된 방향이면 `/rewind`로 되돌리고 재시작

{% hint style="info" %}
Boris Tane 워크플로의 각 단계에서는 Claude에게 명시적으로 **역할을 제한**합니다. 리서치 단계에서는 "분석만 해줘", 계획 단계에서는 "계획만 작성해줘. 아직 구현하지 마", 주석 단계에서는 "메모를 반영해줘. 아직 구현하지 마". 이런 명시적 제한이 없으면 Claude는 자연스럽게 코드 작성까지 진행합니다.
{% endhint %}

## 왜 코드 작성을 마지막에 하는가?

### Anti-pattern: 바로 "만들어줘"

→ *이 프롬프트는 Anti-pattern의 예시로, 리서치나 계획 없이 바로 구현을 요청하면 어떤 문제가 발생하는지 보여주기 위한 것입니다:*

```
개발자: "Todo 앱에 통계 대시보드를 만들어줘"
Claude: (바로 코드 작성 시작)

결과:
- 기존 패턴과 다른 구현 → 일관성 없음
- 원하는 것과 다른 방향 → 대규모 되돌리기 필요
- 컨텍스트를 코드 작성에 소비 → 수정할 여유 없음
```

### Pro pattern: 단계적 접근

```
개발자: "코드베이스를 깊이 분석하고 research.md에 정리해줘"
Claude: (리서치 결과 파일 생성)

개발자: "plan.md에 상세한 구현 계획을 작성해줘"
Claude: (계획 파일 생성)

개발자: (plan.md에 메모 추가) "메모를 반영해줘. 아직 구현하지 마."
Claude: (계획 업데이트)

개발자: "계획이 좋아. 모두 구현해줘."
Claude: (승인된 계획 기반으로 일괄 구현)

결과:
- 기존 패턴과 일관된 구현
- 개발자 의도가 정확히 반영됨
- 한 번에 높은 품질의 코드 생성
```

## Chapter 1~4 기능이 각 단계에 매핑되는 방식

| 워크플로 단계 | 사용하는 Claude Code 기능 | 배운 챕터 |
|-------------|------------------------|----------|
| **Research** | 서브에이전트로 탐색 | Chapter 2 (2.7) |
| **Research** | 파일 생성 (research.md) | Chapter 2 |
| **Planning** | Plan 모드 (`Shift+Tab`) | Chapter 1 (1.4) |
| **Planning** | 파일 생성 (plan.md) | Chapter 2 |
| **Planning** | 기존 코드 참조 지시 | Chapter 2 (2.2) |
| **Annotation** | 에디터에서 파일 편집 | 일반 개발 도구 |
| **Annotation** | "아직 구현하지 마" 지시 | Chapter 1 (1.4) |
| **Implementation** | 일괄 구현 프롬프트 | Chapter 2 |
| **Implementation** | Extended Thinking | Chapter 2 (2.4) |
| **Implementation** | `/rewind`로 되돌리기 | Chapter 1 (1.4) |
| **Implementation** | `/commit`으로 커밋 | Chapter 2 (2.6) |
| **Implementation** | `/compact`로 컨텍스트 관리 | Chapter 1 (1.6) |

## 이 챕터에서 만들 것

이 슈퍼랩에서는 위 워크플로를 그대로 따라 Todo 앱에 `/stats` 대시보드 페이지를 구현합니다.

```
/stats 대시보드
┌─────────────────────────────────────────────┐
│  📊 통계 대시보드                              │
│                                              │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐  │
│  │ 전체 완료율 │  │ 이번 주   │  │ 생산성   │  │
│  │   67%     │  │   80%    │  │  점수 85  │  │
│  └──────────┘  └──────────┘  └──────────┘  │
│                                              │
│  카테고리별 분포        우선순위별 분포         │
│  ████████ 업무 45%     ● 높음  30%           │
│  █████ 개인 30%        ● 중간  50%           │
│  ███ 학습 25%          ● 낮음  20%           │
│                                              │
│  최근 7일 완료 추이                            │
│  8│  ▓                                       │
│  6│  ▓  ▓     ▓                              │
│  4│  ▓  ▓  ▓  ▓  ▓                          │
│  2│  ▓  ▓  ▓  ▓  ▓  ▓                       │
│  0└──────────────────                         │
│   월 화 수 목 금 토 일                         │
└─────────────────────────────────────────────┘
```

이 기능은 다음과 같은 이유로 슈퍼랩에 적합합니다:
- **다중 파일 변경**: 쿼리 함수, 서버 컴포넌트, 클라이언트 컴포넌트, 라우팅
- **복합 쿼리**: 집계(aggregate) 쿼리, 날짜 범위, 그룹화
- **서버/클라이언트 분리**: 데이터는 서버에서, 차트는 클라이언트에서
- **UI 복잡성**: 통계 카드, 바 차트, 파이 차트 등 다양한 시각화

## 핵심 정리

| 개념 | 설명 |
|------|------|
| Boris Tane 워크플로 | Research → Planning → Annotation → Implementation |
| 핵심 원칙 | 계획 승인 전까지 코드 작성하지 않기 |
| 검토 가능한 표면 | 결과/계획을 구두가 아닌 파일(research.md, plan.md)로 작성 |
| 주석 사이클 | plan.md에 인라인 메모를 추가하고 Claude에게 반영 요청 |
| Anti-pattern | 바로 "만들어줘"라고 요청하는 것 |
| Pro pattern | 리서치 → 계획 → 검토 → 구현의 단계적 접근 |

---

## ✅ 체크포인트

이 섹션을 완료하면 다음을 확인하세요:

- [ ] Boris Tane 워크플로의 4단계를 설명할 수 있음
- [ ] 왜 코드 작성을 마지막 단계에 하는지 이해함
- [ ] Chapter 1~4에서 배운 기능이 어떤 단계에 매핑되는지 파악함
- [ ] `/stats` 대시보드의 구현 범위를 이해함

---

> **다음**: [5.2 리서치 단계](02-research-phase.md)에서 서브에이전트를 활용하여 코드베이스를 깊이 분석하고 research.md를 작성합니다.
